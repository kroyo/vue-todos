webpackJsonp([1],{8872:function(t,e){},BKr3:function(t,e){},"Eo/b":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")({name:"App"},o,!1,function(t){n("vGjf")},null,null).exports,a=n("/ocq"),c=n("mtWM"),r=n.n(c),d=function(t){return r.a.get("/todo/list",{params:t})},l={data:function(){return{items:[],todoId:""}},created:function(){var t=this;d({}).then(function(e){var n=e.data.todos;t.items=n,t.todoId=n[0].id})},watch:{todoId:function(t){this.$router.push({name:"todo",params:{id:t}})}},methods:{goList:function(t){this.todoId=t},addTodoList:function(){var t,e=this;(t={},r.a.post("/todo/addTodo",t).then(function(t){return t.data})).then(function(t){d({}).then(function(t){var n=t.data.todos;e.todoId=n[n.length-1].id,e.items=n})})}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list-todos"},[t._l(t.items,function(e,i){return n("a",{key:i,staticClass:"list-todo list",class:{active:e.id==t.todoId},on:{click:function(n){t.goList(e.id)}}},[e.locked?n("span",{staticClass:"icon-lock"}):t._e(),t._v(" "),e.count>0?n("span",{staticClass:"count-list"},[t._v(t._s(e.count))]):t._e(),t._v("\n    "+t._s(e.title)+"\n  ")])}),t._v(" "),n("a",{staticClass:"link-list-new",on:{click:t.addTodoList}},[n("span",{staticClass:"icon-plus"}),t._v("\n    新增\n  ")])],2)},staticRenderFns:[]};var m=n("VU/8")(l,u,!1,function(t){n("BKr3")},null,null).exports,p={props:{item:{type:Object,default:function(){return{checked:!1,text:"你好,世界"}}},index:{},id:{},init:{},locked:{}},methods:{onChange:function(){var t=this;editRecord({id:this.id,record:this.item,index:this.index}).then(function(e){t.init()})}}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:!t.item.isDelete,expression:"!item.isDelete"}],staticClass:"list-item editingClass editing",class:{checked:t.item.checked}},[n("label",{staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.item.checked,expression:"item.checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.item.checked)?t._i(t.item.checked,null)>-1:t.item.checked},on:{change:function(e){var n=t.item.checked,i=e.target,o=!!i.checked;if(Array.isArray(n)){var s=t._i(n,null);i.checked?s<0&&t.$set(t.item,"checked",n.concat([null])):s>-1&&t.$set(t.item,"checked",n.slice(0,s).concat(n.slice(s+1)))}else t.$set(t.item,"checked",o)}}}),t._v(" "),n("span",{staticClass:"checkbox-custom"})]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.item.text,expression:"item.text"}],attrs:{type:"text",placeholder:"写点什么。。。",disabled:t.item.checked||t.locked},domProps:{value:t.item.text},on:{input:function(e){e.target.composing||t.$set(t.item,"text",e.target.value)}}}),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"delete-item"},[e("span",{staticClass:"icon-trash"})])}]};var h={components:{item:n("VU/8")(p,f,!1,function(t){n("Eo/b")},null,null).exports},data:function(){return{todo:{title:"",count:0,locked:!1},items:[],text:""}},created:function(){this.init()},watch:{"$route.params.id":function(){this.init()}},methods:{init:function(){var t,e=this,n=this.$route.params.id;(t={id:n},r.a.get("/todo/recordList",{params:t})).then(function(t){var n=t.data.todo,i=n.id,o=n.title,s=n.count,a=n.isDelete,c=n.locked,r=n.record;e.items=r,e.todo={id:i,title:o,count:s,locked:c,isDelete:a}})},onAdd:function(){var t,e=this,n=this.$route.params.id;(t={id:n,text:this.text},r.a.post("/todo/addRecord",t).then(function(t){return t.data})).then(function(t){e.text="",e.init()})}}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page lists-show"},[n("nav",[t._m(0),t._v(" "),n("h1",{staticClass:"title-page"},[n("span",{staticClass:"title-wrapper"},[t._v(t._s(t.todo.title))]),t._v(" "),t.todo.count>0?n("span",{staticClass:"count-list"},[t._v(t._s(t.todo.count))]):t._e()]),t._v(" "),n("div",{staticClass:"nav-group right"},[n("div",{staticClass:"options-web"},[n("a",{staticClass:"nav-item"},[t.todo.locked?n("span",{staticClass:"icon-lock"}):n("span",{staticClass:"icon-unlock"})]),t._v(" "),t._m(1)])]),t._v(" "),n("div",{staticClass:" form todo-new input-symbol"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{type:"text",placeholder:"请输入",disabled:t.todo.locked},domProps:{value:t.text},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onAdd(e):null},input:function(e){e.target.composing||(t.text=e.target.value)}}}),t._v(" "),n("span",{staticClass:"icon-add"})])]),t._v(" "),n("div",{staticClass:"content-scrollable list-items"},t._l(t.items,function(t,e){return n("div",{key:e},[n("item",{attrs:{item:t}})],1)}))])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav-group"},[e("a",{staticClass:"nav-item"},[e("span",{staticClass:"icon-list-unordered"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"nav-item"},[e("span",{staticClass:"icon-trash"})])}]};var _=n("VU/8")(h,v,!1,function(t){n("lCZB")},null,null).exports,k={components:{menus:m,todo:_}},C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("aside",{staticClass:"menu"},[e("menus")],1),this._v(" "),e("article",{staticClass:"content-container"},[e("router-view")],1)])},staticRenderFns:[]};var x=n("VU/8")(k,C,!1,function(t){n("8872")},null,null).exports;i.a.use(a.a);for(var g=new a.a({routes:[{path:"/",name:"Layouts",component:x,children:[{path:"/todo/:id",name:"todo",component:_}]}]}),w=n("//Fk"),y=n.n(w),b=n("KorX"),$=n.n(b),R=n("zNUS"),D=n.n(R),E=[],A=[1,2,3,4,5],T=1;T<=A.length;T++)E.push(D.a.mock({id:D.a.Random.guid(),title:D.a.Random.first(),isDelete:!1,locked:D.a.Random.boolean(),record:A.map(function(){return{text:D.a.Random.cparagraph(2),isDelete:!1,checked:D.a.Random.boolean()}})}));({start:function(){var t=new $.a(r.a);t.onGet("/todo/list").reply(function(t){console.log(E);var e=E.map(function(t){return{id:t.id,title:t.title,count:t.record.filter(function(t){return!1===t.checked}).length,locked:t.locked,isDelete:t.isDelete}}).filter(function(t){return!0!==t.isDelete});return new y.a(function(t,n){setTimeout(function(){t([200,{todos:e}])},200)})}),t.onPost("/todo/addTodo").reply(function(t){return E.push({id:D.a.Random.guid(),title:"newList",isDelete:!1,locked:!1,record:[]}),new y.a(function(t,e){setTimeout(function(){t([200])},200)})}),t.onGet("/todo/recordList").reply(function(t){var e=t.params.id,n=E.find(function(t){return e&&t.id===e});return n&&(n.count=n?n.record.filter(function(t){return!1===t.checked}).length:null),new y.a(function(t,e){setTimeout(function(){t([200,{todo:n}])},200)})}),t.onPost("/todo/addRecord").reply(function(t){var e=JSON.parse(t.data),n=e.id,i=e.text;return E.some(function(t,e){if(t.id===n)return t.record.push({text:i,isDelete:!1,checked:!1}),!0}),new y.a(function(t,e){setTimeout(function(){t([200])},200)})})}}).start(),i.a.config.productionTip=!1,new i.a({el:"#app",router:g,components:{App:s},template:"<App/>"})},lCZB:function(t,e){},vGjf:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.294298b833deaaab6300.js.map